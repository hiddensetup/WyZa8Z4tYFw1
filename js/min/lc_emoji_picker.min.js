!function(){"use strict";if(void 0!==window.lc_emoji_picker)return;let m=!1,l=null,i=null,n=null,a=null,f={};const v={"smileys--people":"üòÄ","animals--nature":"üêá","travel--places":"üöò",activities:"‚öΩ",objects:"üéß",symbols:"üà∂",flags:"üö©"},t={picker_trigger:'<svg style="fill:var(--chat-text-tertiary)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path d="M12.5,0A12.5,12.5,0,1,0,25,12.5,12.52,12.52,0,0,0,12.5,0ZM23,12.5A10.5,10.5,0,1,1,12.5,2,10.5,10.5,0,0,1,23,12.5Z"/><path d="M17.79,15h0a1.1,1.1,0,0,0-1.34.12,4,4,0,0,0-.3.28l-.06.05a4.83,4.83,0,0,1-.42.37,5.06,5.06,0,0,1-5.41.57,5.12,5.12,0,0,1-1.61-1.19A1.14,1.14,0,1,0,7,16.75a7.36,7.36,0,0,0,5.49,2.37h.63a3.15,3.15,0,0,0,.37,0A7.41,7.41,0,0,0,18,16.74a1.34,1.34,0,0,0,.32-.58A1.09,1.09,0,0,0,17.79,15Z"/><path d="M7.44,10.18l0-.19c0-.15.1-.34.48-.47a1.1,1.1,0,0,1,1,.09.61.61,0,0,1,.31.51,1,1,0,0,0,1,.88h.08a1,1,0,0,0,1-1.06A2.84,2.84,0,0,0,8.26,7.5L8,7.53a4.85,4.85,0,0,0-.53.08A2.64,2.64,0,0,0,5.33,9.94a1,1,0,0,0,1,1.06A1.07,1.07,0,0,0,7.44,10.18Z"/><path d="M16.56,7.51h0A3,3,0,0,0,14,8.89a1.78,1.78,0,0,0-.3,1.31,1,1,0,0,0,1,.8,1.06,1.06,0,0,0,1-.7,1.7,1.7,0,0,0,.06-.31.69.69,0,0,1,.58-.5,1.07,1.07,0,0,1,1,.23.6.6,0,0,1,.17.4,1,1,0,0,0,1.15.87,1,1,0,0,0,1-1.06C19.62,8.55,18.27,7.51,16.56,7.51Z"/></svg>',trigger_position:{top:"10px",right:"0px"},trigger_size:{height:"22px",width:"22px"},target_r_padding:5,emoji_json_url:"https://raw.githubusercontent.com/LCweb-ita/LC-emoji-picker/master/emoji-list.min.json",trigger_title:"insert emoji",labels:["insert emoji","search emoji",".. no results .."],selection_callback:null},r=(document.addEventListener("click",function(e){var t=document.querySelector("#lc-emoji-picker.lcep-shown");if(t&&!e.target.classList.contains("lcep-trigger")){for(const i of document.getElementsByClassName("lcep-trigger"))if(i.contains(e.target))return!0;t.contains(e.target)||e.target.classList.contains("lcep-shown")||(t.classList.remove("lcep-shown"),n=null,a=null)}return!0}),window.addEventListener("resize",function(e){var t=document.querySelector("#lc-emoji-picker.lcep-shown");return t&&l!=window.innerWidth&&(t.classList.remove("lcep-shown"),n=null,a=null),!0}),window.lc_emoji_picker=function(e,h={}){return this.attachTo=e,this.attachTo?"object"!=typeof h?console.error("Options must be an object"):(h=Object.assign({},t,h),this.init=function(){const t=this;if(i||(this.generate_style(),i=!0),"object"!=typeof m)return document.addEventListener("DOMContentLoaded",()=>{this.fetch_emoji_data()}),!0;r(e).forEach(function(e){"TEXTAREA"!=e.tagName&&"INPUT"!=e.tagName||"INPUT"==e.tagName&&"text"!=e.getAttribute("type")||e.parentNode.classList.length&&e.parentNode.classList.contains("lcep-el-wrap")||(t.append_emoji_picker(),t.wrap_element(e),document.querySelector(".lcep-search input").addEventListener("keyup",e=>{t.emoji_search(e)}))})},this.emoji_search=function(e){var t=e.target.parentNode,i=e.target.value,e=document.querySelectorAll("#lc-emoji-picker .lcep-category"),r=document.querySelectorAll("#lc-emoji-picker .lcep-all-categories li");if(i.length<2)for(const o of r)o.classList.remove("lcep-hidden-emoji"),t.classList.remove("lcep-searching");else{for(const c of r)c.getAttribute("data-name").match(i)?c.classList.remove("lcep-hidden-emoji"):c.classList.add("lcep-hidden-emoji");t.classList.add("lcep-searching")}for(const l of e)l.querySelectorAll("li:not(.lcep-hidden-emoji)").length?l.classList.remove("lcep-hidden-emoji-cat"):l.classList.add("lcep-hidden-emoji-cat");document.querySelectorAll(".lcep-all-categories ul:not(.lcep-hidden-emoji-cat)").length?document.querySelector(".lcep-no-results")&&document.querySelector(".lcep-no-results").remove():document.querySelector(".lcep-no-results")||document.querySelector(".lcep-all-categories").insertAdjacentHTML("beforeend",'<em class="lcep-no-results">'+h.labels[2]+"</em>")},this.clear_search=function(){var e=document.querySelector(".lcep-search input");e.value="",e.dispatchEvent(new Event("keyup"))},this.go_to_emoji_cat=function(e,t){t=document.querySelector(".lcep-category[category-name='"+t+"']").offsetTop;document.querySelector(".lcep-all-categories").scrollTop=t-100,document.querySelector("li.lcep-active").classList.remove("lcep-active"),e.classList.add("lcep-active")},this.cat_waypoints_check=function(){if(!document.querySelector(".lcep-shown"))return!0;var e=document.querySelector(".lcep-all-categories").scrollTop,t=Object.keys(f);t.sort().reverse();let i=t[0];for(const r of t)if(e>=parseInt(r,10)){i=r;break}t=f[i];document.querySelector("li.lcep-active").classList.remove("lcep-active"),document.querySelector(".lcep-categories li[data-index='"+t+"']").classList.add("lcep-active")},this.reset_picker=function(){document.querySelector(".lcep-search i").click(),document.querySelector(".lcep-categories li").click()},this.show_picker=function(e){var t=document.getElementById("lc-emoji-picker");if(l=window.innerWidth,e==n)return t.classList.remove("lcep-shown"),n=null,a=null,!1;this.reset_picker(),n=e,a=h.selection_callback;var e=t.offsetWidth,i=t.offsetHeight,r=n.getBoundingClientRect(),o=parseInt(n.clientHeight,10)+parseInt(getComputedStyle(n).borderTopWidth,10)+parseInt(getComputedStyle(n).borderBottomWidth,10),o=parseInt(r.y,10)+parseInt(window.pageYOffset,10)+o+5;let c=parseInt(r.right,10)-e;c<0&&(c=0),window.innerWidth<700&&(c=Math.floor((window.innerWidth-e)/2));r=o+i-document.documentElement.scrollTop<window.innerHeight?"top:"+o:"transform: translate3d(0, calc((100% + "+(n.offsetHeight+10)+"px) * -1), 0); top:"+o;t.setAttribute("style",r+"px; left: "+c+"px;"),t.classList.add("lcep-shown")},this.emoji_select=function(e){var t=n.parentNode.querySelector("input, textarea"),i=e.getElementsByTagName("IMG").length?e.getElementsByTagName("IMG")[0].getAttribute("alt"):e.innerText;t.value=t.value+i,a&&"function"==typeof a&&a.call(this,e,t)},this.wrap_element=function(e){var t=Math.random().toString(36).substr(2,9);let i="";const r={...h.trigger_position,...h.trigger_size};Object.keys(r).some(function(e){i+=e+":"+r[e]+";"});var o=document.createElement("div");o.setAttribute("data-f-name",e.getAttribute("name")),o.classList.add("lcep-el-wrap"),o.innerHTML='<span id="'+t+'" class="lcep-trigger" style="'+i+'" title="'+h.labels[0]+'">'+h.picker_trigger+"</span>",e.parentNode.insertBefore(o,e),o.appendChild(e);const c=document.getElementById(t);c.addEventListener("click",e=>{this.show_picker(c)})},this.fetch_emoji_data=function(){if("object"==typeof m)return this.init(),!0;if("loading"==m){const e=this;return setTimeout(function(){e.fetch_emoji_data()},50),!0}m="loading",fetch(h.emoji_json_url).then(e=>e.json()).then(e=>{m=e,this.init()}).catch(function(e){m=!1})},this.append_emoji_picker=function(){if(document.getElementById("lc-emoji-picker"))return!0;let e=`
            <div id="lc-emoji-picker">
                <div class="lcep-categories">%categories%
                    <div class="lcep-search">
                        <input placeholder="${h.labels[1]}" />
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.005 512.005" xml:space="preserve"><g><g><path d="M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667S0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6c4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z"/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                        <i>√ó</i>
                    </div>
                </div>
                <div>%pickerContainer%</div>
            </div>`,t="<ul>%categories%</ul>",i="",r="",o=0,c=m;for(const p in c)if(c.hasOwnProperty(p)){o++;var l=p.split(" ").join("-").split("&").join("").toLowerCase();const t=c[p];i+=`
                    <li class="${1===o?"lcep-active":""}" data-index="${l}" title="${p}">
                        <a href="javascript:void(0)">${v[l]}</a>
                    </li>`,r+=`
                    <ul class="lcep-category" category-name="${l}">
                        <div class="lcep-container-title">${p}</div>
                        <div class="lcep-grid">`,t.forEach(e=>{r+=`
                                <li data-name="${e.description.toLowerCase()}">
                                    <a class="lcep-item" title="${e.description}" data-name="${e.description.toLowerCase()}" data-code="${e.code}" href="javascript:void(0)">${e.emoji}</a>
                                </li>`}),r+=`
                        </div>
                    </ul>`}var n='<div class="lcep-all-categories">%outerUL%</div>'.replace("%outerUL%",r),a=t.replace("%categories%",i);e=e.replace("%pickerContainer%",n).replace("%categories%",a),document.body.insertAdjacentHTML("beforeend",e);for(const d of document.querySelectorAll(".lcep-categories li"))d.addEventListener("click",e=>{this.go_to_emoji_cat(d,d.getAttribute("data-index"))});for(const g of document.querySelectorAll(".lcep-container-title"))f[g.offsetTop-112]=g.parentNode.getAttribute("category-name");let s=!1;document.querySelector(".lcep-all-categories").addEventListener("scroll",()=>{s&&clearTimeout(s),s=setTimeout(()=>{this.cat_waypoints_check()},50)}),document.querySelector(".lcep-search i").addEventListener("click",e=>{this.clear_search()});for(const u of document.querySelectorAll(".lcep-all-categories li"))u.addEventListener("click",e=>{this.emoji_select(u)})},this.generate_style=function(){document.head.insertAdjacentHTML("beforeend",`<style>
.lcep-el-wrap {
    position: relative;
        width: 98%;

}
.lcep-el-wrap > textarea,
.lcep-el-wrap > input {
    padding-right: ${h.target_r_padding}px;
}
.lcep-trigger {
    display: inline-block;
    position: absolute;
    cursor: pointer;
}
.lcep-trigger svg {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 2px solid transparent;
    opacity: 0.8;
    fill: #282828;
    transition: all .15s ease;
}
.lcep-trigger svg:hover {
    fill: #202020;
}
#lc-emoji-picker,
#lc-emoji-picker * {
    box-sizing: border-box;
}
#lc-emoji-picker {
    visibility: hidden;
    z-index: -100;
    opacity: 0;
    position: absolute;
    top: -9999px;
    z-index: 999;
    width: 280px;
    min-height: 320px;
    background: var(--chat-background-menu);
    box-shadow: var(--box-shadow-menu);
    border-radius: var(--chat-rounded-size-7);
    overflow: hidden;
    border: .8px solid transparent;
    transform: scale(0.85);
    transition: opacity .2s ease, transform .2s ease;
}
#lc-emoji-picker.lcep-shown {
    visibility: visible;
    z-index: 999;
    transform: none;
    opacity: 1;

}
#lc-emoji-picker .lcep-all-categories {
    height: 260px;
    overflow-y: auto;
    padding: 0 5px 20px 10px;
}
#lc-emoji-picker .lcep-category:not(:first-child) {
    margin-top: 22px;
}
#lc-emoji-picker .lcep-container-title {
    color: var(--chat-text-primary);
    margin: 10px 0;
    text-indent: 10px;
    font-size: 13px;
    font-weight: bold;
}
#lc-emoji-picker * {
    margin: 0;
    padding: 0;
    text-decoration: none;
    color: var(--chat-text-tertiary);
    font-family: sans-serif;
    user-select: none;
    -webkit-tap-highlight-color:  rgba(255, 255, 255, 0); 
}
.lcep ul {
    list-style: none;
    margin: 0;
    padding: 0;
}
.lcep-grid {
    display: flex;
    flex-wrap: wrap;
}
.lcep-grid > li {
    cursor: pointer;
    flex: 0 0 calc(100% / 6);
    max-width: calc(100% / 6);
    height: 41px;
    min-width: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background: var(--chat-app-background-menu);
    border-radius: 2px;
    transition: all .2s ease;
}
.lcep-grid > li:hover {
    background: var(--chat-border-color);
}
ul.lcep-hidden-emoji-cat,
.lcep-grid > li.lcep-hidden-emoji {
    display: none;
}
.lcep-grid > li > a {
    display: block;
    font-size: 21px;
    margin: 0;
    padding: 22px 0px;
    line-height: 0;
}
.lcep-categories ul {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
}
.lcep-categories li {
    transition: all .3s ease;
    flex: 0 0 calc(100% / 7);
    display: flex;
    max-width: calc(100% / 7);
}
.lcep-categories li.lcep-active {
    box-shadow: 0 -3px 0 var(--chat-text-primary) inset;
}
.lcep-categories a {
    padding: 7px !important;
    font-size: 19px;
    height: 42px;
    display: flex;
    text-align: center;
    justify-content: center;
    align-items: center;
    position: relative;
    filter: grayscale(90%) contrast(100%) hue-rotate(175deg);
}
.lcep-categories a:before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
     cursor: pointer;
 }

.lcep-search {
    position: relative;
    border-top: 1px solid #ddd;
    padding: 10px 6px !important;
}
.lcep-search input {
width: 100%;
    border: none;
    padding: 8px 30px 8px 10px !important;
    outline: none;
    background: var(--chat-input-background);
    font-size: var(--chat-text-size-9);
    border: none;
    height: 30px;
    border-radius: var(--chat-rounded-size-5);
    user-select: auto !important;
}
.lcep-search svg,
.lcep-search i {
    width: 14px;
    height: 14px;
    position: absolute;
    right: 16px;
    top: 18px;
    fill: #444;
    cursor: pointer;
}
.lcep-search i {
    color: #444;
    font-size: 22px;
    font-family: arial;
    line-height: 14px;
    transition: opacity .15s ease;
}
.lcep-search i:hover {
    opacity: .8;
}
.lcep-searching svg,
.lcep-search:not(.lcep-searching) i {
    display: none;
}
#lc-emoji-picker img.emoji {
    min-width: 23px;
    height: auto !important;
}
#lc-emoji-picker .lcep-no-results {
	font-size: 90%;
	display: block;
	text-align: center;
	margin-top: 1em;
}
</style>`)},void this.init()):console.error("You must provide a valid selector string first argument")},t=>{if("string"==typeof t)return(t.match(/(#[0-9][^\s:,]*)/g)||[]).forEach(function(e){t=t.replace(e,'[id="'+e.replace("#","")+'"]')}),document.querySelectorAll(t);if(t instanceof Element)return[t];var e=[];for(const i of t)i instanceof Element&&e.push(i);return e})}();