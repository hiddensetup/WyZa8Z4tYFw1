
  <!DOCTYPE html>
  <html lang="en">
  <body>
  <script src="https://unpkg.com/gojs@3.0.8/release/go.js"></script>
  <div id="allSampleContent" class="p-4 w-full">
          
            
            


<link href="https://fonts.googleapis.com/css?family=Inter:400,500,600&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<style>
  :modal {
    padding: 2rem;
    border-radius: 0.25rem;
    border-width: 0;
    box-shadow: 0 0 #0000, 0 0 #0000, 0 1px 3px 0 rgb(0 0 0 / 0.1);
  }

  #hidden {
    font: 500 18px Inter;
    opacity: 0;
  }
</style>
<link rel="stylesheet" href="https://unpkg.com/create-gojs-kit@3.0.8/dist/extensions/DataInspector.css">
<script src="https://unpkg.com/create-gojs-kit@3.0.8/dist/extensions/DataInspector.js"></script>

<script id="code">
  function init(){let e=go.GraphObject.make;function t(e,t){return!(!(e instanceof go.Node)||e===t||t.isInTreeOf(e))}(myDiagram=new go.Diagram("myDiagramDiv",{allowCopy:!1,allowDelete:!1,initialAutoScale:go.AutoScale.UniformToFill,maxSelectionCount:1,validCycle:go.CycleMode.DestinationTree,"clickCreatingTool.archetypeNodeData":{name:"(New person)",title:"(Title)",dept:"(Dept)"},"clickCreatingTool.insertPart":function(e){let t=go.ClickCreatingTool.prototype.insertPart.call(this,e);return null!==t&&(this.diagram.select(t),this.diagram.commandHandler.scrollToPart(t),this.diagram.commandHandler.editTextBlock(t.findObject("NAMETB"))),t},layout:e(go.TreeLayout,{treeStyle:go.TreeStyle.LastParents,arrangement:go.TreeArrangement.Horizontal,angle:90,layerSpacing:35,alternateAngle:90,alternateLayerSpacing:35,alternateAlignment:go.TreeAlignment.Bus,alternateNodeSpacing:20}),"undoManager.isEnabled":!0,"themeManager.changesDivBackground":!0,"themeManager.currentTheme":document.getElementById("theme").value})).addDiagramListener("Modified",e=>{let t=document.getElementById("SaveButton");t&&(t.disabled=!myDiagram.isModified);let a=document.title.indexOf("*");myDiagram.isModified?a<0&&(document.title+="*"):a>=0&&(document.title=document.title.slice(0,a))}),myDiagram.themeManager.set("light",{colors:{background:"#fff",text:"#111827",textHighlight:"#11a8cd",subtext:"#6b7280",badge:"#f0fdf4",badgeBorder:"#16a34a33",badgeText:"#15803d",divider:"#6b7280",shadow:"#9ca3af",tooltip:"#1f2937",levels:["#AC193D","#2672EC","#8C0095","#5133AB","#008299","#D24726","#008A00","#094AB2"],dragOver:"#f0f9ff",link:"#9ca3af",div:"#f3f4f6"},fonts:{name:"500 0.875rem Inter, sans-serif",normal:"0.875rem Inter, sans-serif",badge:"500 0.75rem Inter, sans-serif",link:"600 0.875rem Inter, sans-serif"}}),myDiagram.themeManager.set("dark",{colors:{background:"#111827",text:"#fff",subtext:"#d1d5db",badge:"#22c55e19",badgeBorder:"#22c55e21",badgeText:"#4ade80",shadow:"#111827",dragOver:"#082f49",link:"#6b7280",div:"#1f2937"}});let a=new go.Adornment(go.Panel.Spot,{isShadowed:!0,shadowOffset:new go.Point(0,2)}).add(new go.Placeholder,new go.Panel(go.Panel.Auto).add(new go.Shape("RoundedRectangle",{strokeWidth:0,shadowVisible:!0}).theme("fill","background"),new go.TextBlock({margin:2}).bindObject("text","adornedObject",function e(t){return"EMAIL"===t.name?t.part.data.email:"PHONE"===t.name?t.part.data.phone:void 0}).theme("stroke","text").theme("font","normal")).bindObject("","adornedObject",function e(t,a){let n=t.diagram,o=t.getDocumentPoint(go.Spot.Bottom),i=n.transformDocToView(o).offset(0,35),l=n.viewportBounds.height>=i.y/n.scale?new go.Spot(.5,1,0,6):new go.Spot(.5,0,0,-6);a.alignment=l,a.alignmentFocus=1===l.y?go.Spot.Top:go.Spot.Bottom})).theme("shadowColor","shadow");function n(e){let t=e=>e?"textHighlight":"text",n="EMAIL"===e;return new go.Panel(go.Panel.Table,{mouseEnter:(t,a)=>myDiagram.model.set(a.part.data,e,!0),mouseLeave:(t,a)=>myDiagram.model.set(a.part.data,e,!1),name:e,background:"transparent",cursor:"Pointer",column:n?0:1,width:140,height:40,toolTip:a,click(t,a){dialog.firstElementChild.firstElementChild.innerHTML=`You clicked to ${n?"send email to":"call"} ${a.part.data.name} at ${a.part.data[e.toLowerCase()]}`,dialog.showModal()}}).add(new go.Panel(go.Panel.Horizontal).add(new go.Shape({geometryString:n?"F M3 4a2 2 0 00-2 2v1.161l8.441 4.221a1.25 1.25 0 001.118 0L19 7.162V6a2 2 0 00-2-2H3zM19 8.839l-7.77 3.885a2.75 2.75 0 01-2.46 0L1 8.839V14a2 2 0 002 2h14a2 2 0 002-2V8.839z":"F M2 3.5A1.5 1.5 0 013.5 2h1.148a1.5 1.5 0 011.465 1.175l.716 3.223a1.5 1.5 0 01-1.052 1.767l-.933.267c-.41.117-.643.555-.48.95a11.542 11.542 0 006.254 6.254c.395.163.833-.07.95-.48l.267-.933a1.5 1.5 0 011.767-1.052l3.223.716A1.5 1.5 0 0118 15.352V16.5a1.5 1.5 0 01-1.5 1.5H15c-1.149 0-2.263-.15-3.326-.43A13.022 13.022 0 012.43 8.326 13.019 13.019 0 012 5V3.5z",strokeWidth:0,desiredSize:n?new go.Size(20,16):new go.Size(20,20),margin:new go.Margin(0,12,0,0)}).theme("fill","text").themeData("fill",e,null,t),new go.TextBlock(n?"Email":"Phone").theme("stroke","text").themeData("stroke",e,null,t).theme("font","link")))}function o(e){if(!e)return;let t=e.data,a;myDiagram.model.commit(n=>{let o={name:"(New person)",title:"(Title)",dept:t.dept,parent:t.key};n.addNodeData(o),(a=myDiagram.findNodeForData(o))&&(a.location=e.location)},"add employee"),myDiagram.commandHandler.scrollToPart(a)}myDiagram.nodeTemplate=new go.Node(go.Panel.Spot,{isShadowed:!0,shadowOffset:new go.Point(0,2),selectionObjectName:"BODY",mouseEnter:(e,t)=>t.findObject("BUTTON").opacity=t.findObject("BUTTONX").opacity=1,mouseLeave:(e,t)=>t.findObject("BUTTON").opacity=t.findObject("BUTTONX").opacity=0,mouseDragEnter(e,a,n){let o=a.diagram,i=o.selection.first();if(!t(i,a))return;let l=a.findObject("SHAPE");l&&(l._prevFill=l.fill,l.fill=o.themeManager.findValue("dragOver","colors"))},mouseDragLeave(e,t,a){let n=t.findObject("SHAPE");n&&n._prevFill&&(n.fill=n._prevFill)},mouseDrop(e,a){let n=a.diagram,o=n.selection.first();if(t(o,a)){let i=o.findTreeParentLink();null!==i?i.fromNode=a:n.toolManager.linkingTool.insertLink(a,a.port,o,o.port)}}}).add(new go.Panel(go.Panel.Auto,{name:"BODY"}).add(new go.Shape("RoundedRectangle",{name:"SHAPE",strokeWidth:0,portId:"",spot1:go.Spot.TopLeft,spot2:go.Spot.BottomRight}).theme("fill","background"),new go.Panel(go.Panel.Table,{margin:.5,defaultRowSeparatorStrokeWidth:.5}).theme("defaultRowSeparatorStroke","divider").add(new go.Panel(go.Panel.Table,{padding:new go.Margin(18,18,18,24)}).addColumnDefinition(0,{width:240}).add(new go.Panel(go.Panel.Table,{column:0,alignment:go.Spot.Left,stretch:go.Stretch.Vertical,defaultAlignment:go.Spot.Left}).add(new go.Panel(go.Panel.Horizontal,{row:0}).add(new go.TextBlock({editable:!0,minSize:new go.Size(10,14)}).bindTwoWay("text","name").theme("stroke","text").theme("font","name"),new go.Panel(go.Panel.Auto,{margin:new go.Margin(0,0,0,10)}).add(new go.Shape("Capsule",{parameter1:6,parameter2:6}).theme("fill","badge").theme("stroke","badgeBorder"),new go.TextBlock({editable:!0,minSize:new go.Size(10,12),margin:new go.Margin(2,-1)}).bindTwoWay("text","dept").theme("stroke","badgeText").theme("font","badge"))),new go.TextBlock({row:1,editable:!0,minSize:new go.Size(10,14)}).bindTwoWay("text","title").theme("stroke","subtext").theme("font","normal")),new go.Panel(go.Panel.Spot,{isClipping:!0,column:1}).add(new go.Shape("Circle",{desiredSize:new go.Size(50,50),strokeWidth:0}),new go.Picture({name:"PICTURE",source:"../samples/images/user.svg",desiredSize:new go.Size(50,50)}).bind("source","pic",function e(t){return t?"../samples/images/HS"+t:"../samples/images/user.svg"}))),new go.Panel(go.Panel.Table,{row:1,stretch:go.Stretch.Horizontal,defaultColumnSeparatorStrokeWidth:.5}).theme("defaultColumnSeparatorStroke","divider").add(n("EMAIL"),n("PHONE")))),new go.Shape("RoundedLeftRectangle",{alignment:go.Spot.Left,alignmentFocus:go.Spot.Left,stretch:go.Stretch.Vertical,width:6,strokeWidth:0}).themeObject("fill","","levels",function e(t){return t.findTreeLevel()}),e("Button",e(go.Shape,"PlusLine",{width:8,height:8,stroke:"#0a0a0a",strokeWidth:2}),{name:"BUTTON",alignment:go.Spot.Right,opacity:0,click:(e,t)=>o(t.part)},new go.Binding("opacity","isSelected",e=>e?1:0).ofObject()),e("TreeExpanderButton",{_treeExpandedFigure:"LineUp",_treeCollapsedFigure:"LineDown",name:"BUTTONX",alignment:go.Spot.Bottom,opacity:0},new go.Binding("opacity","isSelected",e=>e?1:0).ofObject())).theme("shadowColor","shadow").bind("text","name").bindObject("layerName","isSelected",e=>e?"Foreground":"").bindTwoWay("isTreeExpanded"),myDiagram.nodeTemplate.contextMenu=e("ContextMenu",e("ContextMenuButton",e(go.TextBlock,"Add Employee"),{click:(e,t)=>o(t.part.adornedPart)}),e("ContextMenuButton",e(go.TextBlock,"Vacate Position"),{click(e,t){let a=t.part.adornedPart;if(null!==a){let n=a.data;myDiagram.model.commit(e=>{e.set(n,"name","(Vacant)"),e.set(n,"pic",""),e.set(n,"email","none"),e.set(n,"phone","none")},"vacate")}}}),e("ContextMenuButton",e(go.TextBlock,"Remove Role"),{click(e,t){let a=t.part.adornedPart;null!==a&&myDiagram.model.commit(e=>{let t=a.findTreeChildrenNodes();for(;t.next();){let n=t.value;e.setParentKeyForNodeData(n.data,a.findTreeParentNode().data.key)}e.removeNodeData(a.data)},"reparent remove")}}),e("ContextMenuButton",e(go.TextBlock,"Remove Department"),{click(e,t){let a=t.part.adornedPart;null!==a&&myDiagram.commit(e=>e.removeParts(a.findTreeParts()),"remove dept")}})),myDiagram.linkTemplate=e(go.Link,{routing:go.Routing.Orthogonal,layerName:"Background",corner:5},e(go.Shape,{strokeWidth:2},new go.ThemeBinding("stroke","link"))),load(),myInspector=new Inspector("myInspector",myDiagram,{properties:{key:{readOnly:!0},EMAIL:{show:!1},PHONE:{show:!1}}}),document.getElementById("zoomToFit").addEventListener("click",()=>myDiagram.commandHandler.zoomToFit()),document.getElementById("centerRoot").addEventListener("click",()=>{myDiagram.scale=1,myDiagram.commandHandler.scrollToPart(myDiagram.findNodeForKey(1))})}function save(){document.getElementById("mySavedModel").value=myDiagram.model.toJson(),myDiagram.isModified=!1}function load(){myDiagram.model=go.Model.fromJson(document.getElementById("mySavedModel").value);let e=1;myDiagram.model.makeUniqueKeyFunction=(t,a)=>{let n=a.key||e;for(;t.findNodeDataForKey(n);)n++;return a.key=e=n,n}}function changeTheme(){let e=go.Diagram.fromDiv("myDiagramDiv");e&&(e.themeManager.currentTheme=document.getElementById("theme").value)}window.addEventListener("DOMContentLoaded",()=>{(dialog=document.querySelector("dialog")).addEventListener("click",e=>{dialog.close()}),setTimeout(()=>{init()},300)});

</script>

<div id="sample">
  <div id="myDiagramDiv" style="border: 1px solid black; height: 625px; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); background-color: rgb(31, 41, 55); cursor: auto;"><canvas tabindex="0" width="2492" height="1246" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; touch-action: none; width: 1246px; height: 623px; cursor: auto;"></canvas><div style="position: absolute; overflow: auto; width: 1246px; height: 623px; z-index: 1;"><div style="position: absolute; width: 1955.95px; height: 1px;"></div></div></div>
  Theme:
  <select id="theme" onchange="changeTheme()">
    <option value="system">System</option>
    <option value="light">Light</option>
    <option value="dark" selected="">Dark</option>
  </select>
  <div>
    Edit details:<br>
    <div id="myInspector" class="inspector"><table><tbody><tr><td>key</td><td><input type="undefined" tabindex="0" disabled=""></td></tr><tr><td>name</td><td><input tabindex="1"></td></tr><tr><td>title</td><td><input tabindex="2"></td></tr><tr><td>dept</td><td><input tabindex="3"></td></tr><tr><td>pic</td><td><input tabindex="4"></td></tr><tr><td>email</td><td><input tabindex="5"></td></tr><tr><td>phone</td><td><input tabindex="6"></td></tr><tr><td>parent</td><td><input tabindex="7"></td></tr></tbody></table></div>
  </div>
  <p><button id="zoomToFit">Zoom to Fit</button> <button id="centerRoot">Center on root</button></p>
  
  <div>
    <div>
      <button id="SaveButton" onclick="save()" disabled="">Save</button>
      <button onclick="load()">Load</button>
      Diagram Model saved in JSON format:
    </div>
<textarea id="mySavedModel" style="width:100%; height:270px;">
  
  { "class": "go.TreeModel",
  "nodeDataArray": [
{"key":1, "name":"Stella Payne Diaz", "title":"CEO", "dept": "Management", "pic":"1.jpg", "email": "sdiaz@example.com", "phone": "(234) 555-6789" }
]
}

</textarea>
  </div>
  <dialog>
    <div style="display: flex; flex-direction: column;">
      <p>You clicked to send email to Luke Warm at lwarm@example.com</p>
      <p>Click anywhere to close</p>
    </div>
  </dialog>
  </body>
  </html>